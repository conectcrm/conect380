<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teste Modal Nova Proposta</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }

    .test-container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .btn {
      background: linear-gradient(to right, #159A9C, #0F7B7D);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
    }

    .btn:hover {
      opacity: 0.9;
    }

    .log {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      padding: 10px;
      margin: 10px 0;
      font-family: monospace;
      white-space: pre-wrap;
      max-height: 300px;
      overflow-y: auto;
    }
  </style>
</head>

<body>
  <div class="test-container">
    <h1>ğŸ§ª Teste do Modal Nova Proposta</h1>
    <p>Este arquivo ajuda a testar se hÃ¡ problemas bÃ¡sicos com o modal.</p>

    <div>
      <button class="btn" onclick="testLocalStorage()">ğŸ—„ï¸ Testar localStorage</button>
      <button class="btn" onclick="testConsole()">ğŸ“ Testar Console</button>
      <button class="btn" onclick="clearLog()">ğŸ—‘ï¸ Limpar Log</button>
    </div>

    <div id="log" class="log">ğŸ“‹ Log de testes aparecerÃ¡ aqui...\n</div>

    <h3>ğŸ“‹ Checklist de VerificaÃ§Ã£o:</h3>
    <ul>
      <li>âœ… Abrir DevTools (F12)</li>
      <li>âœ… Ir para Console</li>
      <li>âœ… Navegar para /propostas no CRM</li>
      <li>âœ… Clicar em "Nova Proposta"</li>
      <li>ğŸ” Verificar se aparecem logs no console</li>
      <li>ğŸ” Verificar se o modal aparece</li>
    </ul>

    <h3>ğŸ› PossÃ­veis Problemas:</h3>
    <ul>
      <li>ğŸš« Estado showWizardModal nÃ£o estÃ¡ mudando</li>
      <li>ğŸš« Modal renderiza mas fica invisÃ­vel (CSS/z-index)</li>
      <li>ğŸš« Erro JavaScript impede renderizaÃ§Ã£o</li>
      <li>ğŸš« React re-render nÃ£o estÃ¡ funcionando</li>
    </ul>
  </div>

  <script>
    function log(message) {
      const logDiv = document.getElementById('log');
      const timestamp = new Date().toLocaleTimeString();
      logDiv.textContent += `[${timestamp}] ${message}\n`;
      logDiv.scrollTop = logDiv.scrollHeight;
    }

    function testLocalStorage() {
      try {
        localStorage.setItem('test_modal', 'funcionando');
        const value = localStorage.getItem('test_modal');
        log(`âœ… localStorage funcionando: ${value}`);
        localStorage.removeItem('test_modal');
      } catch (error) {
        log(`âŒ Erro no localStorage: ${error.message}`);
      }
    }

    function testConsole() {
      console.log('ğŸ§ª Teste do console funcionando!');
      console.warn('âš ï¸ Warning de teste');
      console.error('âŒ Error de teste');
      log('âœ… Comandos enviados para console - verifique DevTools');
    }

    function clearLog() {
      document.getElementById('log').textContent = 'ğŸ“‹ Log limpo...\n';
    }

    // Auto-test
    log('ğŸš€ Arquivo de teste carregado');
    log('ğŸŒ URL: ' + window.location.href);
    log('ğŸ‘¤ UserAgent: ' + navigator.userAgent.substring(0, 50) + '...');
  </script>
</body>

</html>